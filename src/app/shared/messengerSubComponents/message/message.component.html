<div [ngClass]="ownMessage ? 'fdRowRev' : ''" class="wrapper">
  <img
    class="avatar"
    (click)="openProfileDialog()"
    src="../../../../assets/img/avatars/avatar-1.svg"
  />

  <div class="text">
    <div [ngClass]="ownMessage ? 'fdRowRev' : ''" class="nameAndTime">
      <span *ngIf="message?.senderName" (click)="openProfileDialog()" class="name">
        {{ message.senderName }}
      </span>
      <span *ngIf="message?.creationTime" class="time subText">
        {{ message.creationTime | date: 'HH:mm' }}
      </span>
    </div>

    <div [ngClass]="ownMessage ? 'messageTextOwnMsg' : 'messageText'">
      <div *ngIf="message?.attachments && message.attachments.length > 0" class="fileContainer">
        <div class="filePreviewContainer">
          <a *ngFor="let attachment of message.attachments" [href]="attachment" download class="download-link">
            <img
              [src]="attachment"
              alt="img file preview"
              [ngClass]="{ filePreview: true, multipleFiles: message.attachments.length > 1 }"
              class="filePreview"
            />
          </a>
        </div>
      </div>

      <span *ngIf="message?.content">{{ message.content }}</span>
    </div>

    <!-- Reaktionsbereich -->
    <div class="reactionsArea">
      <div [ngClass]="ownMessage ? 'fdRowRev' : ''" class="reactions">
        <div class="reactionContainer">
          <img src="../../../../assets/img/close.svg" />
          <span class="reactionsCount">1</span>
        </div>
        <div class="reactionContainer">
          <img src="../../../../assets/img/google-icon.svg" />
          <span class="reactionsCount">2</span>
        </div>
      </div>
    </div>

    <!-- Optionen-Bubble, wird durch CSS-Hover sichtbar -->
    <app-options-bubble class="options-bubble"></app-options-bubble>

    <div *ngIf="isChannel" class="responses">
      <span (click)="navigateToThread()" class="count">2 Antworten</span>
      <span class="time subText">Letzte Antwort 14:56</span>
    </div>
  </div>
</div>
