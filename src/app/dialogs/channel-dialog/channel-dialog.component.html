<div class="channelDialogContainer" [@dialogAnimationFadeIn]>
    <div class="dialogHeader channelHeader">
        <h2>{{ this.activeChannelService.activeChannel.name }}</h2>
        <img (click)="dialogRef.close()" src="../../../assets/img/close.svg" alt="Schließen">
    </div>

    <div class="dialogWrapperBig">

        <div [@inputAnimationFadeIn] class="channelContentWrapper" [ngClass]="isEditingName ? 'noOutline' : 'outline'">
            <div class="channelNameContainer">
                <h3>Channel-Name</h3>
                @if (mobile) {
                    @if (isEditingName) {
                        <div>
                            <img src="../../../assets/img/check_circle.svg" alt=""
                                (click)="saveNewName(); onEvent($event)">
                        </div>
                        } @else {
                        <div>
                            <img src="../../../assets/img/pen.svg" alt="" (click)="toggleEditName()">
                        </div>
                        }

                } @else {
                    @if (isEditingName) {
                        <div>
                            <span class="coloredText" (click)="saveNewName(); onEvent($event)">Speichern</span>
                        </div>
                        } @else {
                        <div>
                            <span class="coloredText" (click)="toggleEditName()">Bearbeiten</span>
                        </div>
                        }
                }
            </div>

            @if (!isEditingName) {
            <div>
                <span class="trigger">
                    # {{ channelName }}
                </span>
            </div>
            } @else if (isEditingName) {
            <div class="inputContainer">
                <input  #channelNameInput [ngClass]="isEditingName ? 'noOutline' : 'outline'" class="input inputBackground" type="text" [(ngModel)]="channelName"
                    (blur)="toggleEditName()">
            </div>}
        </div>

        <div class="channelContentWrapper"  [ngClass]="isEditingDescription ? 'noOutline' : 'outline'">
            <div class="channelNameContainer">
                <h3>Beschreibung</h3>

                @if (mobile) {
                @if (isEditingDescription) {
                <div>
                    <img src="../../../assets/img/check_circle.svg" alt=""
                        (click)="saveNewDescription(); onEvent($event)">
                </div>
                } @else {
                <div>
                    <img src="../../../assets/img/pen.svg" alt="" (click)="toggleEditDescription()">
                </div>
                }

                } @else {
                @if (isEditingDescription) {
                <div>
                    <span class="coloredText" (click)="saveNewDescription(); onEvent($event)">Speichern</span>
                </div>
                } @else {
                <div>
                    <span class="coloredText" (click)="toggleEditDescription()">Bearbeiten</span>
                </div>
                }
                }
            </div>

            @if (!isEditingDescription) {
            <div>
                <span class="trigger">
                    {{ channelDescription }}
                </span>
            </div>
            } @else if (isEditingDescription) {
            <div class="inputContainer">
                <textarea class="input" #channelDescriptionInput rows="1" type="text" (input)="adjustTextareaRows(channelDescriptionInput)"
                    [(ngModel)]="channelDescription" (blur)="toggleEditDescription()"></textarea>
            </div>
            }

            <div class="divider"></div>

            <div class="channelNameContainer">
                <h3>Erstellt von</h3>
            </div>

            <div>
                <span class="coloredText" href="">Noah Braun</span>
            </div>
        </div>


        @if (mobile) {
        <div class="channelContentWrapper outline">

            <div class="channelNameContainer">
                <h3>Mitglieder</h3>
            </div>

            <div class="memberList">
                <div class="member">
                    <img src="../../../assets/img/dummyAvatar.svg" alt="Schließen">
                    <p>Frederik Beck</p>
                </div>

                <div class="member">
                    <img src="../../../assets/img/dummyAvatarFem.svg" alt="Schließen">
                    <p>Sofia Müller</p>
                </div>
            </div>

            <div class="addMemberContainer" (click)="openEditMemberDialog()">
                <img src="../../../assets/img/person_add.svg" alt="Person hinzufügen">
                <p>Mitglieder hinzufügen</p>
            </div>
        </div>
        }


        <div class="btnWrapper">
            <button class="firstBtn">Channel verlassen</button>
        </div>
    </div>
</div>